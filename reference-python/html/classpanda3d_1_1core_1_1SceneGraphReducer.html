<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Panda3D: SceneGraphReducer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Panda3D
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepanda3d.html">panda3d</a></li><li class="navelem"><a class="el" href="namespacepanda3d_1_1core.html">core</a></li><li class="navelem"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html">SceneGraphReducer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpanda3d_1_1core_1_1SceneGraphReducer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SceneGraphReducer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>An interface for simplifying ("flattening") scene graphs by eliminating unneeded nodes and collapsing out unneeded state changes and transforms.  
 <a href="classpanda3d_1_1core_1_1SceneGraphReducer.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acd168c99c716a14598647d9e4591b075"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075">AttribTypes</a> { <br />
&#160;&#160;<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a94e8e75a22e0eea977fba1f13a00a4eb">TT_transform</a> = 1, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a44651d89ea15477b8416108942323752">TT_color</a> = 2, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a242f6ec9141ca553ff231a47da3a6218">TT_color_scale</a> = 4, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075aafa4c98ae215b9c7758b19c6958e50b2">TT_tex_matrix</a> = 8, 
<br />
&#160;&#160;<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a27e544822b3a4633c79f49e90f77795b">TT_clip_plane</a> = 16, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a09270f1248dd00af6aa919db81900ff5">TT_cull_face</a> = 32, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075ac0c8f286ef25d7527cb1635105ad43bb">TT_apply_texture_color</a> = 64, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075a4cb63e0bb13014390f80c5209f5465fd">TT_other</a> = 128
<br />
 }</td></tr>
<tr class="separator:acd168c99c716a14598647d9e4591b075"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c0d32aeddf4e683b38be8293193c77"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77">CollectVertexData</a> { <br />
&#160;&#160;<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77accf23fdb9440670bc15481a1de7972ce">CVD_name</a> = 1, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77a8208173a2b6232db095ed52a55cd316c">CVD_model</a> = 2, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77a98189e9aa5e44042048239350dce0572">CVD_transform</a> = 4, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77a412e74f2b392c2eaf4e6428640d76043">CVD_avoid_dynamic</a> = 8, 
<br />
&#160;&#160;<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77a72406e6db80e4449538ef2741e0f2260">CVD_one_node_only</a> = 16, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77aefa009e58819d3bdd2eda15b1d16d7e7">CVD_format</a> = 32, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77adc3ad3f7c363ff8351020a8666425bd7">CVD_usage_hint</a> = 64, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77a3ce635f96a972b0d45a18ad73d1f7b2c">CVD_animation_type</a> = 128
<br />
 }</td></tr>
<tr class="separator:ab2c0d32aeddf4e683b38be8293193c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a486299d77e852733eb3937713cafc850"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850">CombineSiblings</a> { <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850ad7a7586319743184eae6c3340707c8c4">CS_geom_node</a> = 1, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850ac296ecfec59e1cc30d9770de4efc3695">CS_within_radius</a> = 2, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850a06ad28c73625a8a9ab4e1bd4199fd9fa">CS_other</a> = 4, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850a6db26e751b6e20d596923af5ee2bfb7c">CS_recurse</a> = 8
 }</td></tr>
<tr class="separator:a486299d77e852733eb3937713cafc850"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6b6fa03c186085e69564a119dfe889"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889">MakeNonindexed</a> { <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889a4bd324c087d7be1ffbe219bfb43e7e3e">MN_composite_only</a> = 1, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889a34aad3f85e85d72567f158eaa668af97">MN_avoid_animated</a> = 2, 
<a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889adc9ed886e7f75773b28bf0bc71259006">MN_avoid_dynamic</a> = 4
 }</td></tr>
<tr class="separator:a6b6b6fa03c186085e69564a119dfe889"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abd23c864a283d7cfed6cc7a29801638f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#abd23c864a283d7cfed6cc7a29801638f">__init__</a> (<a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a> gsg)</td></tr>
<tr class="separator:abd23c864a283d7cfed6cc7a29801638f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a666e2f11fce56b2b4e30baf3dcc920cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a666e2f11fce56b2b4e30baf3dcc920cf">applyAttribs</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> node, const AccumulatedAttribs attribs, int attrib_types, GeomTransformer transformer)</td></tr>
<tr class="memdesc:a666e2f11fce56b2b4e30baf3dcc920cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This flavor of apply_attribs() can be called recursively from within another flatten process (e.g. from PandaNode::apply_attribs_to_vertices()). The parameters were presumably received from a parent <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a> object.  <a href="#a666e2f11fce56b2b4e30baf3dcc920cf">More...</a><br /></td></tr>
<tr class="separator:a666e2f11fce56b2b4e30baf3dcc920cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa580b521c798f3bdee43cf0113f22540"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa580b521c798f3bdee43cf0113f22540">applyAttribs</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> node, int attrib_types)</td></tr>
<tr class="memdesc:aa580b521c798f3bdee43cf0113f22540"><td class="mdescLeft">&#160;</td><td class="mdescRight">Walks the scene graph, accumulating attribs of the indicated types, applying them to the vertices, and removing them from the scene graph. This has a performance optimization benefit in itself, but is especially useful to pave the way for a call to <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ad040fab65e4d01208fb50ecf7efc2104" title="Simplifies the graph by removing unnecessary nodes and nodes. ">flatten()</a> and greatly improve the effectiveness of the flattening operation.  <a href="#aa580b521c798f3bdee43cf0113f22540">More...</a><br /></td></tr>
<tr class="separator:aa580b521c798f3bdee43cf0113f22540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb7c205401feacdd2c885170917b4608"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#adb7c205401feacdd2c885170917b4608">checkLiveFlatten</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> node)</td></tr>
<tr class="memdesc:adb7c205401feacdd2c885170917b4608"><td class="mdescLeft">&#160;</td><td class="mdescRight">In a non-release build, returns false if the node is correctly not in a live scene graph. (Calling flatten on a node that is part of a live scene graph, for instance, a node somewhere under render, can cause problems in a multithreaded environment.)  <a href="#adb7c205401feacdd2c885170917b4608">More...</a><br /></td></tr>
<tr class="separator:adb7c205401feacdd2c885170917b4608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa839cc307e4ad5d0d081490f77e69e59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa839cc307e4ad5d0d081490f77e69e59">clearGsg</a> ()</td></tr>
<tr class="memdesc:aa839cc307e4ad5d0d081490f77e69e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies that no particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> will be used to guide the optimization. The <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a> will instead use config variables such as max-collect-vertices and max-collect-indices.  <a href="#aa839cc307e4ad5d0d081490f77e69e59">More...</a><br /></td></tr>
<tr class="separator:aa839cc307e4ad5d0d081490f77e69e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9b48ec49ef823894d44dd6212e8e17"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a8e9b48ec49ef823894d44dd6212e8e17">collectVertexData</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, int collect_bits)</td></tr>
<tr class="memdesc:a8e9b48ec49ef823894d44dd6212e8e17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collects all different <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> blocks that have compatible formats at this node and below into a single, unified block (or at least multiple larger blocks). This is intended to reduce rendering overhead incurred by switching vertex buffers. It can also make a subsequent call to <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> much more effective than it would have been otherwise.  <a href="#a8e9b48ec49ef823894d44dd6212e8e17">More...</a><br /></td></tr>
<tr class="separator:a8e9b48ec49ef823894d44dd6212e8e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66a418264a6cf59cbe631988b593f28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa66a418264a6cf59cbe631988b593f28">decompose</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root)</td></tr>
<tr class="memdesc:aa66a418264a6cf59cbe631988b593f28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa66a418264a6cf59cbe631988b593f28" title="Calls decompose() on every GeomNode at this level and below. ">decompose()</a> on every <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> at this level and below.  <a href="#aa66a418264a6cf59cbe631988b593f28">More...</a><br /></td></tr>
<tr class="separator:aa66a418264a6cf59cbe631988b593f28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad040fab65e4d01208fb50ecf7efc2104"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ad040fab65e4d01208fb50ecf7efc2104">flatten</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, int combine_siblings_bits)</td></tr>
<tr class="memdesc:ad040fab65e4d01208fb50ecf7efc2104"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simplifies the graph by removing unnecessary nodes and nodes.  <a href="#ad040fab65e4d01208fb50ecf7efc2104">More...</a><br /></td></tr>
<tr class="separator:ad040fab65e4d01208fb50ecf7efc2104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5111327fdd727bf528ac2323918e13ea"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a5111327fdd727bf528ac2323918e13ea">getCombineRadius</a> ()</td></tr>
<tr class="memdesc:a5111327fdd727bf528ac2323918e13ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the radius that is used in conjunction with CS_within_radius. See set_combine_radius().  <a href="#a5111327fdd727bf528ac2323918e13ea">More...</a><br /></td></tr>
<tr class="separator:a5111327fdd727bf528ac2323918e13ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d9a233775df945ca569fdd37718108"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab4d9a233775df945ca569fdd37718108">getGsg</a> ()</td></tr>
<tr class="memdesc:ab4d9a233775df945ca569fdd37718108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> that this object will attempt to optimize to. See set_gsg().  <a href="#ab4d9a233775df945ca569fdd37718108">More...</a><br /></td></tr>
<tr class="separator:ab4d9a233775df945ca569fdd37718108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8410e07470e07c8e6bbf31108c9c78c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a8410e07470e07c8e6bbf31108c9c78c1">makeCompatibleFormat</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, int collect_bits)</td></tr>
<tr class="memdesc:a8410e07470e07c8e6bbf31108c9c78c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Walks through the tree at this node and below and unifies the <a class="el" href="classpanda3d_1_1core_1_1GeomVertexFormat.html" title="This class defines the physical layout of the vertex data stored within a Geom. The layout consists o...">GeomVertexFormat</a> for any <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> objects that are found, so that all eligible vdatas (according to collect_bits; see collect_vertex_data) will share the same vertex format.  <a href="#a8410e07470e07c8e6bbf31108c9c78c1">More...</a><br /></td></tr>
<tr class="separator:a8410e07470e07c8e6bbf31108c9c78c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ac4443bc5794b2a916e15d2f79c9a3d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a2ac4443bc5794b2a916e15d2f79c9a3d">makeCompatibleState</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root)</td></tr>
<tr class="memdesc:a2ac4443bc5794b2a916e15d2f79c9a3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Searches for GeomNodes that contain multiple Geoms that differ only in their ColorAttribs. If such a <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> is found, then all the colors are pushed down into the vertices. This makes it feasible for the geoms to be unified later.  <a href="#a2ac4443bc5794b2a916e15d2f79c9a3d">More...</a><br /></td></tr>
<tr class="separator:a2ac4443bc5794b2a916e15d2f79c9a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcb10071b4183109afeb5c62358da249"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#abcb10071b4183109afeb5c62358da249">makeNonindexed</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, int nonindexed_bits)</td></tr>
<tr class="memdesc:abcb10071b4183109afeb5c62358da249"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts indexed geometry to nonindexed geometry at the indicated node and below, by duplicating vertices where necessary. The parameter nonindexed_bits is a union of bits defined in <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889">SceneGraphReducer::MakeNonindexed</a>, which specifes which types of geometry to avoid making nonindexed.  <a href="#abcb10071b4183109afeb5c62358da249">More...</a><br /></td></tr>
<tr class="separator:abcb10071b4183109afeb5c62358da249"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dfb6cc3bc12a45728b53f70b8382188"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a5dfb6cc3bc12a45728b53f70b8382188">premunge</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, const <a class="el" href="classpanda3d_1_1core_1_1RenderState.html">RenderState</a> initial_state)</td></tr>
<tr class="memdesc:a5dfb6cc3bc12a45728b53f70b8382188"><td class="mdescLeft">&#160;</td><td class="mdescRight">Walks the scene graph rooted at this node and below, and uses the indicated GSG to premunge every <a class="el" href="classpanda3d_1_1core_1_1Geom.html" title="A container for geometry primitives. This class associates one or more GeomPrimitive objects with a t...">Geom</a> found to optimize it for eventual rendering on the indicated GSG. If there is no GSG indicated for the <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a>, this is a no-op.  <a href="#a5dfb6cc3bc12a45728b53f70b8382188">More...</a><br /></td></tr>
<tr class="separator:a5dfb6cc3bc12a45728b53f70b8382188"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a867a83fc301a9ac76970d2482b3af"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa6a867a83fc301a9ac76970d2482b3af">removeColumn</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, const <a class="el" href="classpanda3d_1_1core_1_1InternalName.html">InternalName</a> column)</td></tr>
<tr class="memdesc:aa6a867a83fc301a9ac76970d2482b3af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes the indicated data column from any GeomVertexDatas found at the indicated root and below. Returns the number of GeomNodes modified.  <a href="#aa6a867a83fc301a9ac76970d2482b3af">More...</a><br /></td></tr>
<tr class="separator:aa6a867a83fc301a9ac76970d2482b3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a934ac8ba76f9bf7920be0da4f7ba6d91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a934ac8ba76f9bf7920be0da4f7ba6d91">removeUnusedVertices</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root)</td></tr>
<tr class="memdesc:a934ac8ba76f9bf7920be0da4f7ba6d91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Removes any vertices in GeomVertexDatas that are no longer used at this level and below. This requires remapping vertex indices in all of the GeomPrimitives, to remove holes in the GeomVertexDatas. It is normally not necessary to call this explicitly.  <a href="#a934ac8ba76f9bf7920be0da4f7ba6d91">More...</a><br /></td></tr>
<tr class="separator:a934ac8ba76f9bf7920be0da4f7ba6d91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a684aaffe5e2e5aa542f4da8d100df38d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a684aaffe5e2e5aa542f4da8d100df38d">setCombineRadius</a> (float combine_radius)</td></tr>
<tr class="memdesc:a684aaffe5e2e5aa542f4da8d100df38d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the radius that is used in conjunction with CS_within_radius to decide whether a subgraph's siblings should be combined into a single node or not.  <a href="#a684aaffe5e2e5aa542f4da8d100df38d">More...</a><br /></td></tr>
<tr class="separator:a684aaffe5e2e5aa542f4da8d100df38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a099305cbe23faec9db81593d730137b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a099305cbe23faec9db81593d730137b0">setGsg</a> (<a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a> gsg)</td></tr>
<tr class="memdesc:a099305cbe23faec9db81593d730137b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifies the particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> that this object will attempt to optimize to. The GSG may specify parameters such as maximum number of vertices per vertex data, max number of vertices per primitive, and whether triangle strips are preferred. It also affects the types of vertex column data that is created by <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a5dfb6cc3bc12a45728b53f70b8382188" title="Walks the scene graph rooted at this node and below, and uses the indicated GSG to premunge every Geo...">premunge()</a>.  <a href="#a099305cbe23faec9db81593d730137b0">More...</a><br /></td></tr>
<tr class="separator:a099305cbe23faec9db81593d730137b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b5990f8b48bfe079cff013cb703d5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a">unify</a> (<a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a> root, bool preserve_order)</td></tr>
<tr class="memdesc:a72b5990f8b48bfe079cff013cb703d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> on every <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> at this level and below. This attempts to reduce the total number of individual Geoms and GeomPrimitives by combining these objects wherever possible. See <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html#ab2b62280b82057d0fb07ad52bc2a2d45" title="Attempts to unify all of the Geoms contained within this node into a single Geom, or at least as few ...">GeomNode::unify()</a>.  <a href="#a72b5990f8b48bfe079cff013cb703d5a">More...</a><br /></td></tr>
<tr class="separator:a72b5990f8b48bfe079cff013cb703d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An interface for simplifying ("flattening") scene graphs by eliminating unneeded nodes and collapsing out unneeded state changes and transforms. </p>
<p>This class is designed so that it may be inherited from and specialized, if needed, to fine-tune the flattening behavior, but normally the default behavior is sufficient. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="acd168c99c716a14598647d9e4591b075"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd168c99c716a14598647d9e4591b075">&#9670;&nbsp;</a></span>AttribTypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#acd168c99c716a14598647d9e4591b075">AttribTypes</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a94e8e75a22e0eea977fba1f13a00a4eb"></a>TT_transform&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a44651d89ea15477b8416108942323752"></a>TT_color&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a242f6ec9141ca553ff231a47da3a6218"></a>TT_color_scale&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075aafa4c98ae215b9c7758b19c6958e50b2"></a>TT_tex_matrix&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a27e544822b3a4633c79f49e90f77795b"></a>TT_clip_plane&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a09270f1248dd00af6aa919db81900ff5"></a>TT_cull_face&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075ac0c8f286ef25d7527cb1635105ad43bb"></a>TT_apply_texture_color&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="acd168c99c716a14598647d9e4591b075a4cb63e0bb13014390f80c5209f5465fd"></a>TT_other&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="ab2c0d32aeddf4e683b38be8293193c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2c0d32aeddf4e683b38be8293193c77">&#9670;&nbsp;</a></span>CollectVertexData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ab2c0d32aeddf4e683b38be8293193c77">CollectVertexData</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77accf23fdb9440670bc15481a1de7972ce"></a>CVD_name&#160;</td><td class="fielddoc"><p>If set, two GeomVertexDatas with different names will not be collected together. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77a8208173a2b6232db095ed52a55cd316c"></a>CVD_model&#160;</td><td class="fielddoc"><p>If set, a <a class="el" href="classpanda3d_1_1core_1_1ModelNode.html" title="This node is placed at key points within the scene graph to indicate the roots of &quot;models&quot;: subtrees ...">ModelNode</a> begins a subgraph of nodes whose GeomVertexDatas will not be collected with nodes outside the subgraph. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77a98189e9aa5e44042048239350dce0572"></a>CVD_transform&#160;</td><td class="fielddoc"><p>If set, a non-identity transform begins a subgraph of nodes whose GeomVertexDatas will not be collected with nodes outside the subgraph. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77a412e74f2b392c2eaf4e6428640d76043"></a>CVD_avoid_dynamic&#160;</td><td class="fielddoc"><p>If set, GeomVertexDatas with any usage_hint other than UH_static will not be collected with any other Geoms in a different <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a>. However, two different dynamic Geoms within the same node might still be collected together. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77a72406e6db80e4449538ef2741e0f2260"></a>CVD_one_node_only&#160;</td><td class="fielddoc"><p>If set, only those GeomVertexDatas within the same node might be collected together. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77aefa009e58819d3bdd2eda15b1d16d7e7"></a>CVD_format&#160;</td><td class="fielddoc"><p>If set, two GeomVertexDatas with different formats will not be collected together. If not set, GeomVertexDatas of different formats may be combined by expanding all GeomVertexDatas to the union of all defined columns. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77adc3ad3f7c363ff8351020a8666425bd7"></a>CVD_usage_hint&#160;</td><td class="fielddoc"><p>If set, two GeomVertexDatas with different usage hints (for instance, UH_static vs. UH_dynamic) will not be collected together. </p>
</td></tr>
<tr><td class="fieldname"><a id="ab2c0d32aeddf4e683b38be8293193c77a3ce635f96a972b0d45a18ad73d1f7b2c"></a>CVD_animation_type&#160;</td><td class="fielddoc"><p>If set, GeomVertexDatas with unanimated vertices will not be combined with GeomVertexDatas with animated vertices. </p>
</td></tr>
</table>

</div>
</div>
<a id="a486299d77e852733eb3937713cafc850"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a486299d77e852733eb3937713cafc850">&#9670;&nbsp;</a></span>CombineSiblings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a486299d77e852733eb3937713cafc850">CombineSiblings</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a486299d77e852733eb3937713cafc850ad7a7586319743184eae6c3340707c8c4"></a>CS_geom_node&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a486299d77e852733eb3937713cafc850ac296ecfec59e1cc30d9770de4efc3695"></a>CS_within_radius&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a486299d77e852733eb3937713cafc850a06ad28c73625a8a9ab4e1bd4199fd9fa"></a>CS_other&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a486299d77e852733eb3937713cafc850a6db26e751b6e20d596923af5ee2bfb7c"></a>CS_recurse&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a id="a6b6b6fa03c186085e69564a119dfe889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6b6fa03c186085e69564a119dfe889">&#9670;&nbsp;</a></span>MakeNonindexed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889">MakeNonindexed</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a6b6b6fa03c186085e69564a119dfe889a4bd324c087d7be1ffbe219bfb43e7e3e"></a>MN_composite_only&#160;</td><td class="fielddoc"><p>If set, only composite primitives such as tristrips and trifans will be made nonindexed; simple primitives such as triangles will be left indexed. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6b6b6fa03c186085e69564a119dfe889a34aad3f85e85d72567f158eaa668af97"></a>MN_avoid_animated&#160;</td><td class="fielddoc"><p>If set any <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> with any animation indication will not be adjusted, whether the animation is to be performed on the CPU or on the graphics pipe. </p>
</td></tr>
<tr><td class="fieldname"><a id="a6b6b6fa03c186085e69564a119dfe889adc9ed886e7f75773b28bf0bc71259006"></a>MN_avoid_dynamic&#160;</td><td class="fielddoc"><p>If set, any <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> or <a class="el" href="classpanda3d_1_1core_1_1Geom.html" title="A container for geometry primitives. This class associates one or more GeomPrimitive objects with a t...">Geom</a> with a usage_hint other than UH_static will not be made nonindexed. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abd23c864a283d7cfed6cc7a29801638f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd23c864a283d7cfed6cc7a29801638f">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a>&#160;</td>
          <td class="paramname"><em>gsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a666e2f11fce56b2b4e30baf3dcc920cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a666e2f11fce56b2b4e30baf3dcc920cf">&#9670;&nbsp;</a></span>applyAttribs() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">applyAttribs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const AccumulatedAttribs&#160;</td>
          <td class="paramname"><em>attribs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attrib_types</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GeomTransformer&#160;</td>
          <td class="paramname"><em>transformer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This flavor of apply_attribs() can be called recursively from within another flatten process (e.g. from PandaNode::apply_attribs_to_vertices()). The parameters were presumably received from a parent <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a> object. </p>

</div>
</div>
<a id="aa580b521c798f3bdee43cf0113f22540"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa580b521c798f3bdee43cf0113f22540">&#9670;&nbsp;</a></span>applyAttribs() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">applyAttribs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>attrib_types</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Walks the scene graph, accumulating attribs of the indicated types, applying them to the vertices, and removing them from the scene graph. This has a performance optimization benefit in itself, but is especially useful to pave the way for a call to <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#ad040fab65e4d01208fb50ecf7efc2104" title="Simplifies the graph by removing unnecessary nodes and nodes. ">flatten()</a> and greatly improve the effectiveness of the flattening operation. </p>
<p>Multiply instanced geometry is duplicated before the attribs are applied.</p>
<p>Of course, this operation does make certain dynamic operations impossible. </p>

</div>
</div>
<a id="adb7c205401feacdd2c885170917b4608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb7c205401feacdd2c885170917b4608">&#9670;&nbsp;</a></span>checkLiveFlatten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool checkLiveFlatten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>In a non-release build, returns false if the node is correctly not in a live scene graph. (Calling flatten on a node that is part of a live scene graph, for instance, a node somewhere under render, can cause problems in a multithreaded environment.) </p>
<p>If allow_live_flatten is true, or in a release build, this always returns true. </p>

</div>
</div>
<a id="aa839cc307e4ad5d0d081490f77e69e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa839cc307e4ad5d0d081490f77e69e59">&#9670;&nbsp;</a></span>clearGsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">clearGsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies that no particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> will be used to guide the optimization. The <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a> will instead use config variables such as max-collect-vertices and max-collect-indices. </p>

</div>
</div>
<a id="a8e9b48ec49ef823894d44dd6212e8e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9b48ec49ef823894d44dd6212e8e17">&#9670;&nbsp;</a></span>collectVertexData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int collectVertexData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>collect_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Collects all different <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> blocks that have compatible formats at this node and below into a single, unified block (or at least multiple larger blocks). This is intended to reduce rendering overhead incurred by switching vertex buffers. It can also make a subsequent call to <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> much more effective than it would have been otherwise. </p>
<p>The set of bits passed in collect_bits indicates which properties are used to differentiate <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> blocks. If it is 0, then more blocks will be combined together than if it is nonzero. </p>

</div>
</div>
<a id="aa66a418264a6cf59cbe631988b593f28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66a418264a6cf59cbe631988b593f28">&#9670;&nbsp;</a></span>decompose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">decompose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#aa66a418264a6cf59cbe631988b593f28" title="Calls decompose() on every GeomNode at this level and below. ">decompose()</a> on every <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> at this level and below. </p>
<p>There is usually no reason to call this explicitly, since <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> will do this anyway if it needs to be done. However, calling it ahead of time can make that future call to <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> run a little bit faster.</p>
<p>This operation has no effect if the config variable preserve-triangle-strips has been set true. </p>

</div>
</div>
<a id="ad040fab65e4d01208fb50ecf7efc2104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad040fab65e4d01208fb50ecf7efc2104">&#9670;&nbsp;</a></span>flatten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flatten </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>combine_siblings_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simplifies the graph by removing unnecessary nodes and nodes. </p>
<p>In general, a node (and its parent node) is a candidate for removal if the node has no siblings and the node has no special properties.</p>
<p>If combine_siblings_bits is nonzero, some sibling nodes (according to the bits set in combine_siblings_bits) may also be collapsed into a single node. This will further reduce scene graph complexity, sometimes substantially, at the cost of reduced spatial separation.</p>
<p>Returns the number of nodes removed from the graph. </p>

</div>
</div>
<a id="a5111327fdd727bf528ac2323918e13ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5111327fdd727bf528ac2323918e13ea">&#9670;&nbsp;</a></span>getCombineRadius()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float getCombineRadius </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the radius that is used in conjunction with CS_within_radius. See set_combine_radius(). </p>

</div>
</div>
<a id="ab4d9a233775df945ca569fdd37718108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4d9a233775df945ca569fdd37718108">&#9670;&nbsp;</a></span>getGsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a> getGsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> that this object will attempt to optimize to. See set_gsg(). </p>

</div>
</div>
<a id="a8410e07470e07c8e6bbf31108c9c78c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8410e07470e07c8e6bbf31108c9c78c1">&#9670;&nbsp;</a></span>makeCompatibleFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int makeCompatibleFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>collect_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Walks through the tree at this node and below and unifies the <a class="el" href="classpanda3d_1_1core_1_1GeomVertexFormat.html" title="This class defines the physical layout of the vertex data stored within a Geom. The layout consists o...">GeomVertexFormat</a> for any <a class="el" href="classpanda3d_1_1core_1_1GeomVertexData.html" title="This defines the actual numeric vertex data stored in a Geom, in the structure defined by a particula...">GeomVertexData</a> objects that are found, so that all eligible vdatas (according to collect_bits; see collect_vertex_data) will share the same vertex format. </p>
<p>This will add unused columns where necessary to match formats. It can result in suboptimal performance if used needlessly.</p>
<p>There is usually no reason to call this explicitly, since collect_vertex_data() will do this anyway if it has not been done already. However, calling it ahead of time can make that future call to collect_vertex_data() run a little bit faster.</p>
<p>The return value is the number of vertex datas modified. </p>

</div>
</div>
<a id="a2ac4443bc5794b2a916e15d2f79c9a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ac4443bc5794b2a916e15d2f79c9a3d">&#9670;&nbsp;</a></span>makeCompatibleState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int makeCompatibleState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Searches for GeomNodes that contain multiple Geoms that differ only in their ColorAttribs. If such a <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> is found, then all the colors are pushed down into the vertices. This makes it feasible for the geoms to be unified later. </p>

</div>
</div>
<a id="abcb10071b4183109afeb5c62358da249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcb10071b4183109afeb5c62358da249">&#9670;&nbsp;</a></span>makeNonindexed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int makeNonindexed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nonindexed_bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts indexed geometry to nonindexed geometry at the indicated node and below, by duplicating vertices where necessary. The parameter nonindexed_bits is a union of bits defined in <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a6b6b6fa03c186085e69564a119dfe889">SceneGraphReducer::MakeNonindexed</a>, which specifes which types of geometry to avoid making nonindexed. </p>

</div>
</div>
<a id="a5dfb6cc3bc12a45728b53f70b8382188"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dfb6cc3bc12a45728b53f70b8382188">&#9670;&nbsp;</a></span>premunge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">premunge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classpanda3d_1_1core_1_1RenderState.html">RenderState</a>&#160;</td>
          <td class="paramname"><em>initial_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Walks the scene graph rooted at this node and below, and uses the indicated GSG to premunge every <a class="el" href="classpanda3d_1_1core_1_1Geom.html" title="A container for geometry primitives. This class associates one or more GeomPrimitive objects with a t...">Geom</a> found to optimize it for eventual rendering on the indicated GSG. If there is no GSG indicated for the <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html" title="An interface for simplifying (&quot;flattening&quot;) scene graphs by eliminating unneeded nodes and collapsing...">SceneGraphReducer</a>, this is a no-op. </p>
<p>This operation will also apply to stashed children. </p>

</div>
</div>
<a id="aa6a867a83fc301a9ac76970d2482b3af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a867a83fc301a9ac76970d2482b3af">&#9670;&nbsp;</a></span>removeColumn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int removeColumn </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classpanda3d_1_1core_1_1InternalName.html">InternalName</a>&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes the indicated data column from any GeomVertexDatas found at the indicated root and below. Returns the number of GeomNodes modified. </p>

</div>
</div>
<a id="a934ac8ba76f9bf7920be0da4f7ba6d91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a934ac8ba76f9bf7920be0da4f7ba6d91">&#9670;&nbsp;</a></span>removeUnusedVertices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">removeUnusedVertices </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Removes any vertices in GeomVertexDatas that are no longer used at this level and below. This requires remapping vertex indices in all of the GeomPrimitives, to remove holes in the GeomVertexDatas. It is normally not necessary to call this explicitly. </p>

</div>
</div>
<a id="a684aaffe5e2e5aa542f4da8d100df38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a684aaffe5e2e5aa542f4da8d100df38d">&#9670;&nbsp;</a></span>setCombineRadius()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setCombineRadius </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>combine_radius</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the radius that is used in conjunction with CS_within_radius to decide whether a subgraph's siblings should be combined into a single node or not. </p>
<p>If the CS_within_radius bit is included in the combine_siblings_bits parameter passed to flatten, than any nodes whose bounding volume is smaller than the indicated radius will be combined together (as if CS_other were set). </p>

</div>
</div>
<a id="a099305cbe23faec9db81593d730137b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a099305cbe23faec9db81593d730137b0">&#9670;&nbsp;</a></span>setGsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setGsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardianBase.html">GraphicsStateGuardianBase</a>&#160;</td>
          <td class="paramname"><em>gsg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Specifies the particular <a class="el" href="classpanda3d_1_1core_1_1GraphicsStateGuardian.html" title="Encapsulates all the communication with a particular instance of a given rendering backend...">GraphicsStateGuardian</a> that this object will attempt to optimize to. The GSG may specify parameters such as maximum number of vertices per vertex data, max number of vertices per primitive, and whether triangle strips are preferred. It also affects the types of vertex column data that is created by <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a5dfb6cc3bc12a45728b53f70b8382188" title="Walks the scene graph rooted at this node and below, and uses the indicated GSG to premunge every Geo...">premunge()</a>. </p>

</div>
</div>
<a id="a72b5990f8b48bfe079cff013cb703d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b5990f8b48bfe079cff013cb703d5a">&#9670;&nbsp;</a></span>unify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpanda3d_1_1core_1_1PandaNode.html">PandaNode</a>&#160;</td>
          <td class="paramname"><em>root</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserve_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calls <a class="el" href="classpanda3d_1_1core_1_1SceneGraphReducer.html#a72b5990f8b48bfe079cff013cb703d5a" title="Calls unify() on every GeomNode at this level and below. This attempts to reduce the total number of ...">unify()</a> on every <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html" title="A node that holds Geom objects, renderable pieces of geometry. This is the primary kind of leaf node ...">GeomNode</a> at this level and below. This attempts to reduce the total number of individual Geoms and GeomPrimitives by combining these objects wherever possible. See <a class="el" href="classpanda3d_1_1core_1_1GeomNode.html#ab2b62280b82057d0fb07ad52bc2a2d45" title="Attempts to unify all of the Geoms contained within this node into a single Geom, or at least as few ...">GeomNode::unify()</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu May 18 2017 01:46:59 for Panda3D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
